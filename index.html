<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZUTOMAYO PIANO QUIZ</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png" />
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="favicon.png" />
    <!-- External CSS file -->
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <h1>ZUTOMAYO PIANO QUIZ</h1>
    <div class="audio-player">
      <button class="play-pause-btn"></button>
      <button class="stop-btn"></button>
      <audio id="audio" src="audio/秒針を嚙む1.mp3"></audio>
      <div class="progress-bar"></div>
    </div>

    <div class="options">
      <button>ハゼ馳せる果てるまで</button>
      <button>脳裏上のクラッカー</button>
      <button>低血ボルト</button>
      <button id="showIframeBtn" class="show-iframe-btn">秒針を噛む</button>
    </div>

    <!-- iframe コンテナ（最初は非表示） -->
    <div
      class="card-iframe-container"
      id="iframeContainer"
      style="display: none"
    >
      <iframe
        src="https://www.youtube.com/embed/GJI4Gv7NbmE?start=59"
        frameborder="0"
        allowfullscreen
      ></iframe>
    </div>

    <script>
      const audio = document.getElementById('audio');
      const playPauseBtn = document.querySelector('.play-pause-btn');
      const audioPlayer = document.querySelector('.audio-player');

      playPauseBtn.addEventListener('click', () => {
        if (audio.paused) {
          audio.play();
          playPauseBtn.classList.add('paused');
          audioPlayer.classList.add('playing');
        } else {
          audio.pause();
          playPauseBtn.classList.remove('paused');
          audioPlayer.classList.remove('playing');
        }
      });

      audio.addEventListener('ended', () => {
        playPauseBtn.classList.remove('paused');
        audioPlayer.classList.remove('playing');
      });
      const stopBtn = document.querySelector('.stop-btn');

      stopBtn.addEventListener('click', () => {
        audio.pause();
        audio.currentTime = 0; // 再生位置をリセット
        playPauseBtn.classList.remove('paused');
        audioPlayer.classList.remove('playing');
      });

      const progressBar = document.querySelector('.audio-player .progress-bar');
      audio.addEventListener('timeupdate', () => {
        const progress = (audio.currentTime / audio.duration) * 100;
        progressBar.style.width = progress + '%';
      });
      // ボタンとiframeコンテナの要素を取得
      const showIframeBtn = document.getElementById('showIframeBtn');
      const iframeContainer = document.getElementById('iframeContainer');

      // ボタンがクリックされたときにiframeを表示
      showIframeBtn.addEventListener('click', () => {
        iframeContainer.style.display = 'block'; // iframeを表示
      });
    </script>
  </body>
</html>
